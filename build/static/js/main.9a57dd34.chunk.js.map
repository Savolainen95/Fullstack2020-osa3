{"version":3,"sources":["services/persons.js","contents/Components.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","nameObject","put","Header","message","className","Persons","props","person","name","number","onClick","removeName","Remove","Add","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","addName","Filter","finder","handleChange","Numbers","persons","filter","toLowerCase","includes","map","i","key","Contents","errorMessage","finder2","App","useState","setPersons","setNewName","setNewNumber","setNewFinder","setErrorMessage","useEffect","personService","event","target","preventDefault","x","window","confirm","find","personel","catch","error","setTimeout","concat","alert","a","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9a57dd34.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\nconst remove = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n    return null\r\n}\r\nconst update = (id, nameObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, nameObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    remove: remove,\r\n    update: update\r\n}","import React from 'react'\r\n\r\nconst Header = ({ message }) => {\r\n    if (message === null) {\r\n      return <h1>Phonebook</h1>\r\n    }\r\n    return (\r\n      <>\r\n        <h1>Phonebook</h1>\r\n        <p className={message[1]}>\r\n          {message[0]}\r\n        </p>\r\n      </>\r\n    )\r\n  }\r\n  \r\n  const Persons = (props) => {\r\n    return (\r\n      <p>\r\n        {props.person.name} {props.person.number}\r\n        <Remove person={props.person} onClick={props.removeName} />\r\n      </p>\r\n  \r\n    )\r\n  }\r\n  \r\n  const Remove = ({ person, onClick }) => {\r\n    return (\r\n      <>\r\n        <button onClick={() => onClick(person)}>Poista</button>\r\n      </>\r\n    )\r\n  }\r\n  \r\n  const Add = (props) => {\r\n    return (\r\n      <>\r\n        <div>\r\n          <h2>add a new number</h2>\r\n        </div>\r\n        <form>\r\n          <div>\r\n            name: <input\r\n              value={props.newName}\r\n              onChange={props.handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: <input\r\n              value={props.newNumber}\r\n              onChange={props.handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\" onClick={props.addName}>Add</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    )\r\n  }\r\n  const Filter = (props) => {\r\n    return (\r\n      <>\r\n        filter shown with <input\r\n          value={props.finder}\r\n          onChange={props.handleChange}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n  const Numbers = ({ persons, finder, removeName }) => {\r\n    return (\r\n      <>\r\n        <h2>Numbers</h2>\r\n        <div>\r\n          {persons.filter(person => person.name.toLowerCase().includes(finder.toLowerCase())).map((person, i) =>\r\n            <Persons key={i} person={person} removeName={removeName} />\r\n          )}\r\n        </div>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const Contents = ({\r\n      errorMessage,\r\n      finder, \r\n      handleChange,\r\n      newName,\r\n      handleNameChange,\r\n      newNumber,\r\n      handleNumberChange,\r\n      addName,\r\n      persons,\r\n      finder2,\r\n      removeName\r\n    }) => {\r\n    return (\r\n        <div>\r\n          <Header message={errorMessage}/>\r\n          <Filter\r\n            finder={finder}\r\n            handleChange={handleChange}\r\n          />\r\n          <Add\r\n            newName={newName}\r\n            handleNameChange={handleNameChange}\r\n            newNumber={newNumber}\r\n            handleNumberChange={handleNumberChange}\r\n            addName={addName}\r\n          />\r\n          <Numbers\r\n            persons={persons}\r\n            finder={finder2}\r\n            removeName={removeName}\r\n          />\r\n        </div>\r\n      )\r\n  }\r\nexport default Contents","import React, { useState, useEffect } from 'react'\r\nimport personService from './services/persons'\r\nimport Contents from './contents/Components'\r\n\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [finder, setNewFinder] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState([])\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response)\r\n      })\r\n  }, [])\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setNewFinder(event.target.value)\r\n  }\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    if (persons.map(x => x.name).includes(newName)) {\r\n      if (window.confirm(`${newName} is alredy added to phonebook, replace older number with new one?`)) {\r\n        const nameObject = {\r\n          name: newName,\r\n          number: newNumber\r\n        }\r\n        const person = persons.find(x => x.name === newName)\r\n        personService\r\n          .update(person.id, nameObject)\r\n          .then(response => {\r\n            setPersons(persons.map(personel => person.id !== personel.id ? personel : response))\r\n          })\r\n          .catch(error => {\r\n            setErrorMessage(\r\n              [`Person '${newName}' was allredy removed from the server`, \"error\"]\r\n            )\r\n            setTimeout(() => {\r\n              setErrorMessage(null)\r\n            }, 5000)\r\n          })\r\n\r\n        if(errorMessage === null) {\r\n          setErrorMessage(\r\n            [`Number of ${person.name} have been updated to ${newNumber}`,\"succes\"]\r\n          )\r\n          setTimeout(() => {\r\n            setErrorMessage(null)\r\n          }, 5000)\r\n        }\r\n      }\r\n      setNewName('')\r\n      setNewNumber('')\r\n    } else if (newName !== '') {\r\n      personService\r\n        .create(nameObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(response))\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n      setErrorMessage(\r\n        [`Added ${newName}. num ${newNumber}`,\"succes\"]\r\n      )\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n\r\n    } else {\r\n      window.alert(`Default input is not allowed.`)\r\n      setNewName('')\r\n      setNewNumber('')\r\n    }\r\n  }\r\n\r\n  const removeName = (person) => {\r\n    if (window.confirm(`Do you want to remove ${person.name}`)) {\r\n      personService.remove(person.id)\r\n      var a = persons\r\n      setErrorMessage(\r\n        [`${person.name} is deleted from the list.`, \"succes\"]\r\n      )\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n      setPersons(a.filter(x => x.id !== person.id))\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Contents\r\n        errorMessage={errorMessage}\r\n        finder={finder}\r\n        handleChange={handleChange}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n        addName={addName}\r\n        persons={persons}\r\n        finder2={finder}\r\n        removeName={removeName}\r\n      />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}